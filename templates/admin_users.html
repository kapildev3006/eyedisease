<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Users - Vision DX Admin</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    body { margin: 0; font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; background: linear-gradient(120deg, #667eea, #4338ca); min-height: 100vh; }
    .page { padding: 22px clamp(16px, 3vw, 28px); color: #0f172a; }
    .topbar { display:flex; justify-content: space-between; align-items:center; background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.25); border-radius: 18px; backdrop-filter: blur(10px); padding: 12px 16px; color:#f8fafc; }
    .btn { text-decoration:none; display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px; font-weight:700; }
    .btn-outline { color:#f1f5f9; border:2px solid rgba(255,255,255,0.6); }
    .btn-primary { color:#fff; background: linear-gradient(90deg, #4f46e5, #4338ca); }
    .card { margin-top:16px; background: rgba(255,255,255,0.92); border:1px solid rgba(0,0,0,0.06); border-radius:18px; box-shadow:0 10px 28px rgba(0,0,0,0.12); overflow:hidden; }
    .card-header { display:flex; justify-content:space-between; align-items:center; padding:16px 18px; border-bottom:1px solid rgba(0,0,0,0.06); background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.75)); }
    .search { display:flex; align-items:center; gap:8px; }
    .search input { padding:10px 12px; border-radius:10px; border:1px solid #cbd5e1; outline:none; min-width: 220px; }
    .table-wrap { width:100%; overflow:auto; }
    table { width:100%; border-collapse:collapse; font-size: 0.95rem; }
    th, td { padding:12px 14px; text-align:left; border-bottom:1px solid rgba(0,0,0,0.06); }
    th { background:#f8fafc; color:#334155; position: sticky; top: 0; z-index: 1; }
    tr:hover td { background:#f1f5f9; }
  </style>
</head>
<body>
  <div class="page">
    <div class="topbar">
      <div style="display:flex;align-items:center;gap:10px"><i class="fa-solid fa-users"></i> <strong>Users</strong></div>
      <div style="display:flex;gap:10px;align-items:center;">
        <a class="btn btn-outline" href="{{ url_for('admin_dashboard') }}"><i class="fa-solid fa-gauge"></i> Dashboard</a>
        <a class="btn btn-primary" href="{{ url_for('admin_logout') }}"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <div style="display:flex;align-items:center;gap:10px; color:#0f172a; font-weight:800;"><i class="fa-solid fa-users"></i> All Users</div>
        <div class="search">
          <i class="fa-solid fa-magnifying-glass" style="color:#64748b"></i>
          <input id="search" type="text" placeholder="Search by name or email..." oninput="filterRows()" />
        </div>
      </div>
      <div class="table-wrap">
        <table id="usersTable">
          <thead>
            <tr>
              <th style="width:100px">ID</th>
              <th>Name</th>
              <th>Email</th>
            </tr>
          </thead>
          <tbody>
            {% for u in users %}
            <tr>
              <td>{{ u.id }}</td>
              <td>{{ u.name }}</td>
              <td>{{ u.email }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    function filterRows() {
      const q = document.getElementById('search').value.toLowerCase();
      const rows = document.querySelectorAll('#usersTable tbody tr');
      rows.forEach(r => {
        const cells = Array.from(r.children).map(td => td.textContent.toLowerCase());
        r.style.display = cells.some(text => text.includes(q)) ? '' : 'none';
      });
    }
  </script>
</body>
</html> 